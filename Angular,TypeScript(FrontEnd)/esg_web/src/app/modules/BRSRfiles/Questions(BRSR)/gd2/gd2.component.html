<div class="">
  
    <div class="row sticky-content " *ngIf="entity" #scroll>
      <div class="col-xl-12">
          <div class="d-flex align-items-center justify-content-between" style="margin-right: 20px;">
             

              <h4 style="text-align: left; color: #1076bc;"> Products or services<b></b></h4>

              
              <div class="d-flex align-items-start gap-3 ">
                <!-- <button type="button"
                class="esg-back-btn btn dash-btn-1 btn8-label right  nexttab nexttab"
                style="font-size: 13px; float: right"
               >
                Back
                
            </button> -->
            <button type="button"
            class="esg-back-btn btn dash-btn-1 btn8-label right  nexttab nexttab"
            style="font-size: 13px; float: right" (click)="onSave()" 
           >
            Save
            
        </button>

        <!-- <button type="button"
        class="esg-back-btn btn dash-btn-1 btn8-label right  nexttab nexttab evidence-btn"
        style="font-size: 13px; float: right"
       >
        Next
        
    </button> -->
        
              </div>
         

          </div>
      </div>
  </div>


  <div class=""  *ngIf="entity">

    <form [formGroup]="gdform">
        <div class="col-xxl-12">
            <div class="card" style="  box-shadow: 0 8px 20px -2px rgb(158 152 153 / 0%);  " >
                <div class="" style="padding: 5px;">
                    <div id="contact-existing-list" >
                        <div class="row mb-2" >
                            <div class="card-footer">
                                <div class="row">
                                  
      
                                  
                                  <div class="row">
                                    <div class="col-xl-12">
                                        <div class="d-flex align-items-center justify-content-between">
                                            <p
                                                class="org-in-text text-muted mb-0">
                                                <button type="button"
                                                    class="btn btn-sm btn-outline"
                                                    style="font-size: 13px;"
                                                   >14</button>Details of business activities (accounting for 90% of the turnover):
                                            </p>
                                           
                                            <button type="button"
                                                class="btn btn-sm btn-outline evidence-btn"
                                                style="font-size: 13px; float: right"
                                                (click)="openuploadimgcompo(this.reportid,this.codeval,this.orgId,'Details of business activities (accounting for 90% of the turnover)')">
                                                Evidence
                                                <i class="ri-file-upload-line"
                                                    style="font-size: 12px"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
      
                                   
                                    <div class="col-xl-12 in-top "> 
                                      <div class="box-body table-responsive">
                                          
                                          <table id="datatable" class="table table-striped table-bordered " style="width:100%;     border: 2px solid #1c75bc;  margin-top: 15px;">
                                              <thead class="tableheader">
                                                  <tr>
                                                      <th class="fptable" style="width: 5%; padding-bottom: 55px;">S.No.</th>
                                                      <th class="fptable"  style="padding-bottom: 55px;">Main Activity</th>
                                                      <th class="fptable" style="width: 58%; padding-bottom: 55px;" >Description of Business Activity</th>
                                                      <th class="fptable">% of Turnover of the entity</th>
                                                   
                                                      <th class="fptable"></th>
                                              </thead>
                                              <tbody>
                                                  <tr *ngFor="let tpt  of lookupdtl; let i=index" style="background-color: #fff !important;">
                                                      <td>
                                                          <input id="Subject{{i}}" class="form-control fpinput-01" [value]="i+1"   readonly> 
                                                        </td>
                                                          <td>
                                                    
                                                              <div class="flex flex-col md:flex-row gap-4" >
                                                                 
                                                                  <mat-form-field style="    width: 100%;
                                                                ">
                                                                  
                                                                      <mat-select id="Type{{i}}" (selectionChange)="OnChangeType(i,$event)" [value]="tpt.Type" (click)="changeSubject(i)">
                                                                         
                                                                      
                                                                        <mat-option *ngFor="let item of filteredListMA" [value]="item.Name">
                                                                        
                                                                   
                                                                      {{item.Name}}
                                                              
                                                                        </mat-option>
                                                             
                                                                      </mat-select>
                                                                    </mat-form-field>
                                                                    
                                                                   
                                                            </div>
                                                              
                                                                </td>
                                                      <td>
                                                        <grammarly-editor-plugin >
                                                          <div class="flex flex-col md:flex-row gap-4">
                                                              <input id="Assessments{{i}}" class="form-control  fpinput-01"  [value]="tpt.Assessments" (change)="changeAssessments(i)"> </div>
                                                              </grammarly-editor-plugin>
                                                      </td>
                                                      <td>
                                                        <input id="Turnover{{i}}"   style="text-align: right;"  class="form-control fpinput-01" [value]="tpt.Turnover" appPercentageDirective appPercentageDirective (change)="Turnoverper(i) "> 
                                                      </td>
                                                   
                                                      <td>
                                                          <button style="padding-top:17px" id="delete{{i}}" type="button" (click)="deleteQ102a(i)"><i style="color:red" class="fa fa-trash" aria-hidden="true"></i></button>
                                                      </td>
                                                  </tr>
                                              </tbody>
                                          </table>
                                          
                                        </div>
                                        <div class="flex flex-col sm:flex-row justify-end ">
                                          <div class="flex items-center  sm:mt-0" style="float: right;">
                                              <button class="esg-back-btn btn dash-btn-1 btn-label order-first sm:order-last" mat-flat-button [color]="'primary'" style="border: 1px solid; color: #1c75bc; border-color: #1c75bc !important; background-color: #fff !important; border-radius: 0px !important; border-radius: 5px !important;" (click)="addFieldValue()"> Add </button>
                                          </div>
                                      </div>
                              </div>
      
                              <div class="row">
                                <div class="col-xl-12">
                                    <div class="d-flex align-items-center justify-content-between">
                                        <p
                                            class="org-in-text text-muted mb-0">
                                            <button type="button"
                                                class="btn btn-sm btn-outline"
                                                style="font-size: 13px;"
                                               >15</button>Products/Services sold by the entity (accounting for 90% of the entity’s Turnover):
                                        </p>
                                       
                                        <button type="button"
                                            class="btn btn-sm btn-outline evidence-btn"
                                            style="font-size: 13px; float: right"
                                            (click)="openuploadimgcompo(this.reportid,this.codeval,this.orgId,'Products/Services sold by the entity (accounting for 90% of the entity’s Turnover)')">
                                            Evidence
                                            <i class="ri-file-upload-line"
                                                style="font-size: 12px"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
      
                                   
                                  <div class="col-xl-12">
                                    <div class="box-body table-responsive">
                                        <table id="datatable" class="table table-striped table-bordered " style="width:100%;  border: 2px solid #1c75bc; margin-top: 15px;">
                                            <thead class="tableheader">
                                                <tr>
                                                    <th class="fptable" style="width: 5%; padding-bottom: 6%;" >S.No.</th>
                                                    <th class="fptable-1" style="padding-bottom: 60px;">Product/Service</th>
                                                    <th class="fptable" style="padding-bottom: 60px;">NIC Code</th>
                                                    <th class="fptable-1" style="padding-bottom: 60px; width: 58%;">NIC Code description</th>
                                                    <th class="fptable">% of Turnover of the entity</th>
                                                    <th class="fptable"></th>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let tpt  of lookupdtl2x; let i=index">
                                                    <td style="background-color: #fbfbfb !important;">
                                                        <input id="Subject2x{{i}}" class="form-control fpinput-01" [value]="i+1"  readonly>
                                                       </td>
                                                        
                                                    <td style="background-color: #fbfbfb !important;">
                                                        <input id="Assessments2x{{i}}" class="form-control fpinput-01"   [value]="tpt.Assessments2x" (change)="changeAssessments2x(i)"> 
                                                      </td>
                                                      <td>
                                                      
                                                       
                                                        <div class="flex flex-col md:flex-row gap-4">
                                                         
      
                                                              <mat-form-field>
                                                                  {{tpt.Type2x}}
                                                                  <mat-select id="Type2x{{i}}" (selectionChange)="OnchangeType2x(i,$event)" [value]="tpt.Type2x">   
                                                                    <input matInput placeholder="Search" (input)="onInputChange($event.target.value)" [matAutocomplete]="auto">
                                                                
                                                                    <mat-option *ngFor="let item of filteredList5" [value]="item.NICCode">
                                                                      <mat-autocomplete #auto (optionSelected)="onOptionSelectedType2x($event,i)">
                                                                      </mat-autocomplete>
                                                                      <ng-container *ngIf="item.NICCode !== tpt.Type2x">
                                                                        {{item.NICCode}}
                                                                      </ng-container>
                                                                    </mat-option>
                                                                  </mat-select>
                                                                </mat-form-field>
                                                                
                                                           
                                                          
                                                      </div>
                                                        
                                                          </td>
                                                          <td style="background-color: #fbfbfb !important;">
                                                            <div class="flex flex-col md:flex-row gap-4">
                                                              <input  id="Projects2x{{i}}"  class="form-control" [value]="tpt.Projects2x " readonly> 
                                                            </div>
                                                        </td>
                                                        <td style="background-color: #fbfbfb !important;">
                                                          <div class="flex flex-col md:flex-row gap-4" >
                                                              <input id="Labs2x{{i}}" class="form-control"  style="text-align: right;" [value]="tpt.Labs2x" appPercentageDirective (change)="changeLabs2x(i)">
                                                          </div>
                                                      </td>
                                                      
                                                    
                                                    <td style="background-color: #fbfbfb !important;">
                                                        <button style="padding-top:17px" id="delete2x{{i}}" type="button" (click)="deleteQ102b(i)"><i style="color:red" class="fa fa-trash" aria-hidden="true"></i></button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="flex flex-col sm:flex-row justify-end ">
                                        <div class="flex items-center  sm:mt-0" style="float: right;">
                                            <button class="esg-back-btn btn dash-btn-1 btn-label order-first sm:order-last" mat-flat-button [color]="'primary'" style="border: 1px solid; color: #1c75bc; border-color: #1c75bc !important; background-color: #fff !important; border-radius: 0px !important; border-radius: 5px !important;" (click)="addFieldValue2x()"> Add </button>
                                        </div>
                                    </div>
                                </div>
                                </div>
                     
                            </div>
                            <div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </form>

  </div>

</div>










